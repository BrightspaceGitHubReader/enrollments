language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  - secure: D0id9bmGK3bT0g97nicrnWiWiDvSi3mrtNjz+bZzq+0sK/iTFAidZYkEtQnt5BYl82c4e8OFdLVEjFaFxuw1wmBNtqI7XUVWxBVjkT5GjcgVRUlfXRUnY7AVOquy1/IRKF1EiF+jYe8/tc0tYsc6GpFHArdRJM6qq7DdW+Hn94l7cV4HGAJlr1uph93Yju4l7a67WpvzXMRstWDGPcmCopwG1i7kcCMhlzX1eW4n7Cdyg1sd84pDyyDpgAhsQ68dwAj9GD0TWRCjIugADMaPwC8qmZnrw/3hy1cFREMuoAulnskEB03BNipWojXkn3AXdte8yA50jVrl27dvyIxVdEnOobdssixnwZsbGad8YF1gpbFOPgDakq0SMG4S5DR/spMG8/GmTreTpLufhF0ZmIvgNbJLo1iEn5b26ODMJvU4lk6xlL6a74wShbcXFNShbfIxVyV1aSezAJdOlIw6sd8CgsAq4dsIxM7n8031CDdYDBxnva7BmqQZsZ6WbUM8lXLy1E7jf/LAD5iGFfnYDAb8sWBkpdlXB0HqKTPf/9HJNSQyEBXbnF94hj2QEsvyhJxG+nqbRk3cw3qX55f6ua3MRoGcHkcIWSgl01LKcZShd2EAy3BbkBDQLfTUbaLl5E2Vul5r8ZOVEYfOQqghpakfbD1Z5RKxaBXPxE9DJwY=
